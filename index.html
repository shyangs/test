<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    <div contextmenu="fcltHTML5Menu">HTML5 Context Menus</div>
    <a href="//developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contextmenu" contextmenu="fcltHTML5Menu">____link____</a>
    <hr>
    <a id="myLink" href="//developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contextmenu" contextmenu="fcltHTML5Menu">____Link____</a>
    <!-- <menu type="context" id="fcltHTML5Menu">
        <menuitem type="command" label="This command has javascript" onclick="alert('command clicked')">
          Commands don't render their contents.
        </menuitem>
    </menu> -->
    <script>
        var domMenu = document.createElement("menu");
        var domMenuitem = document.createElement("menuitem");
        domMenu.setAttribute("type", "context");
        domMenu.setAttribute("id", "fcltHTML5Menu");
        domMenuitem.setAttribute("command", "context");
        domMenuitem.setAttribute("label", "This command has javascript");
        // domMenuitem.setAttribute("onclick", "alert('command clicked')");
        function handle(){
            var domTextarea = document.createElement('textarea');
            domTextarea.textContent = "42";
            domTextarea.style.height = 0;
            domTextarea.style.width = 0;
            domTextarea.style.borderWidth = 0;
            domTextarea.style.padding = 0;
            domTextarea.style.margin = 0;
            document.body.appendChild(domTextarea);
            domTextarea.select();
            document.execCommand('copy');
            domTextarea.remove();
            domTextarea = null;
            alert('command clicked');
        }
        domMenuitem.addEventListener("click", handle);
        domMenuitem.addEventListener("touchend", handle);
        domMenu.appendChild(domMenuitem);
        document.body.appendChild(domMenu);
        document.getElementById("myLink").setAttribute("contextmenu", "fcltHTML5Menu");

        domMenuitem = null;
        domMenu = null;
    </script>
</body>
</html>
