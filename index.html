<!DOCTYPE html>
<html><head></head>
<body>
    <div contextmenu="fcltHTML5Menu">HTML5 Context Menus</div>
    <hr>
    <a style="font-size: 128px;" id="myLink" href="//developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contextmenu">____Menuitem____</a>

    <script>
        var domMenu = document.createElement("menu");
        var domMenuitem = document.createElement("menuitem");
        domMenu.setAttribute("type", "context");
        domMenu.setAttribute("id", "fcltHTML5Menu");
        domMenuitem.setAttribute("command", "context");
        domMenuitem.setAttribute("label", "This command has javascript");
        function handle(){
            var domTextarea = document.createElement('textarea');
            domTextarea.textContent = "42";
            document.body.appendChild(domTextarea);
            domTextarea.select();
            var bln = document.execCommand('copy');
            // domTextarea.remove();
            alert('command clicked. \n'+
            "document.queryCommandSupported('copy') = "+ document.queryCommandSupported('copy') + "\ndocument.queryCommandEnabled('copy') = " + document.queryCommandEnabled('copy')
            +"\ndocument.execCommand('copy') = " + bln);
        }
        domMenuitem.addEventListener("click", handle);
        domMenu.appendChild(domMenuitem);
        document.body.appendChild(domMenu);
        document.getElementById("myLink").setAttribute("contextmenu", "fcltHTML5Menu");
    </script>
</body>
</html>